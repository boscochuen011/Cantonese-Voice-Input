<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>廣東話語音輸入 - 設定精靈</title>
  <link rel="stylesheet" href="onboarding.css">
</head>
<body>
  <main class="wizard">
    <header class="hero">
      <img class="app-icon" src="icons/icon-128.png" alt="廣東話語音輸入圖示">
      <p class="eyebrow">廣東話語音輸入</p>
      <h1>設定精靈</h1>
      <p class="lead">首次使用只需完成以下 3 個步驟，完成後即可順暢使用。</p>
    </header>

    <section class="steps" aria-label="設定步驟">
      <article class="step-card" data-step="extensions">
        <div class="step-title">
          <span class="step-index">1</span>
          <h2>擴充功能與釘選</h2>
        </div>
        <p>開啟 Chrome 擴充功能頁面，確認此插件已啟用，並釘選到工具列。</p>
        <div class="step-actions">
          <button id="openExtensionsBtn" class="action-btn" type="button">開啟 chrome://extensions</button>
        </div>
        <label class="step-check">
          <input type="checkbox" data-step-check="extensions">
          <span>我已完成此步驟</span>
        </label>
      </article>

      <article class="step-card" data-step="permission">
        <div class="step-title">
          <span class="step-index">2</span>
          <h2>麥克風權限</h2>
        </div>
        <p>在你目標網站允許麥克風權限，確保語音辨識可正常運作。</p>
        <p id="currentSiteLabel" class="step-note">正在偵測目前網站...</p>
        <div class="step-actions">
          <button id="openSitePermissionBtn" class="action-btn" type="button">開啟目前網站權限</button>
          <button id="openMicrophoneSettingsBtn" class="ghost-btn" type="button">開啟全域麥克風設定</button>
        </div>
        <label class="step-check">
          <input type="checkbox" data-step-check="permission">
          <span>我已完成此步驟</span>
        </label>
      </article>

      <article class="step-card" data-step="shortcut">
        <div class="step-title">
          <span class="step-index">3</span>
          <h2>快捷鍵設定</h2>
        </div>
        <p>開啟快捷鍵設定，維持你的快速流程。建議保留網頁內連按兩下 <code>Control</code>。</p>
        <div class="step-actions">
          <button id="openShortcutsBtn" class="action-btn" type="button">開啟 chrome://extensions/shortcuts</button>
        </div>
        <label class="step-check">
          <input type="checkbox" data-step-check="shortcut">
          <span>我已完成此步驟</span>
        </label>
      </article>
    </section>

    <section class="finish-card">
      <p id="progressText" class="progress">已完成 0 / 3 步。</p>
      <div class="finish-actions">
        <button id="completeSetupBtn" class="complete-btn" type="button" disabled>完成設定</button>
        <button id="skipSetupBtn" class="ghost-btn" type="button">稍後再做</button>
      </div>
      <p id="finishMessage" class="finish-message" hidden>設定狀態已儲存，你可以關閉此分頁並開始使用插件。</p>
    </section>
  </main>

  <script src="onboarding.js"></script>
</body>
</html>
